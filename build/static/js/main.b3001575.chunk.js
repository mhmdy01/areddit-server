(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(27),a=n.n(c),s=n(10),i=n(12),o=n(16),u=n(9),j=n(33),l=n(7),b=n.n(l),d=n(14),p=n(22),O=n.n(p),h={login:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x="/api/users",f="",v=null,m=function(e){v={headers:{Authorization:e}}},g={read:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(x,"/").concat(t),v);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(x,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setAuthorizationHeader:function(e){f="Bearer ".concat(e),m(f)}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_NOTIFICATION":return e.concat(t.payload);case"CLEAR_NOTIFICATION":return e.filter((function(e){return e.id!==t.payload}));default:return e}},w=function(e){return{type:"CLEAR_NOTIFICATION",payload:e}},T=function(e){return{type:"CREATE_NOTIFICATION",payload:e}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return function(n){var r=setTimeout((function(){n(w(r))}),1e3*t);n(T(Object(u.a)(Object(u.a)({},e),{},{id:r})))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},S=function(e){return{type:"SET_USER",payload:e}},C=n(8),A=n(11),E=n(25),I=function(e){var t=Object(r.useState)(""),n=Object(E.a)(t,2),c=n[0],a=n[1];return{type:e,value:c,onChange:function(e){a(e.target.value)},reset:function(){a("")}}},D=n(1),P=function(){var e=Object(s.b)(),t=Object(o.g)(),n=I("text"),r=I("password"),c=function(e){e.reset;return Object(j.a)(e,["reset"])};return Object(D.jsx)("div",{children:Object(D.jsxs)(C.a,{onSubmit:function(c){c.preventDefault();var a={username:n.value,password:r.value};e(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var c,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.login(e);case 3:c=n.sent,r(S(c)),r(N({type:"success",msg:"".concat(c.username," logged in")})),t.push("/"),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(Object(u.a)({},n.t0)),a=n.t0.response&&n.t0.response.data?n.t0.response.data.error:n.t0.message,r(N({type:"error",msg:a}));case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(a,t))},children:[Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Label,{children:"Username"}),Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({},c(n)),{},{required:!0}))]}),Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Label,{children:"Password"}),Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({},c(r)),{},{required:!0}))]}),Object(D.jsx)(A.a,{variant:"primary",type:"submit",children:"Login"}),Object(D.jsxs)(C.a.Text,{muted:!0,children:["Don't have an account? ",Object(D.jsx)(i.b,{to:"/signup",children:"Sign Up"})]})]})})},L=function(){var e=Object(s.b)(),t=Object(o.g)(),n=I("text"),r=I("text"),c=I("password"),a=function(e){e.reset;return Object(j.a)(e,["reset"])};return Object(D.jsx)("div",{children:Object(D.jsxs)(C.a,{onSubmit:function(a){a.preventDefault();var s={username:n.value,name:r.value,password:c.value};e(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var c,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.create(e);case 3:c=n.sent,r(N({type:"success",msg:"created user: ".concat(c.username,"... redirect to login")})),t.push("/login"),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(Object(u.a)({},n.t0)),a=n.t0.response&&n.t0.response.data?n.t0.response.data.error:n.t0.message,r(N({type:"error",msg:a}));case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(s,t))},children:[Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Label,{children:"Username"}),Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({},a(n)),{},{required:!0,minLength:3})),Object(D.jsx)(C.a.Text,{muted:!0,children:"Must be 3 characters or more."})]}),Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Label,{children:"Name"}),Object(D.jsx)(C.a.Control,Object(u.a)({},a(r)))]}),Object(D.jsxs)(C.a.Group,{controlId:"formBasicPassword",children:[Object(D.jsx)(C.a.Label,{children:"Password"}),Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({},a(c)),{},{required:!0,minLength:3})),Object(D.jsx)(C.a.Text,{muted:!0,children:"Must be 3 characters or more."})]}),Object(D.jsx)(A.a,{variant:"primary",type:"submit",children:"Sign Up"}),Object(D.jsxs)(C.a.Text,{muted:!0,children:["Already have an account? ",Object(D.jsx)(i.b,{to:"/login",children:"Log In"})]})]})})},_=n(77),R=function(e){var t=e.notification,n="success"===t.type?"success":"danger";return Object(D.jsx)("div",{children:Object(D.jsx)(_.a,{variant:n,children:t.msg})})},M=function(){var e=Object(s.c)((function(e){return e.notifications}));return Object(D.jsx)("div",{children:e.map((function(e){return Object(D.jsx)(R,{notification:e},e.id)}))})},U=n(41),F=n(42),q=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),n=Object(o.g)();return Object(D.jsx)("div",{children:Object(D.jsxs)(U.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,className:"ps-3 pe-3",children:[Object(D.jsx)(U.a.Brand,{as:i.b,to:"/",children:"Areddit"}),Object(D.jsx)(F.a,{className:"mr-auto",children:null!==t&&Object(D.jsx)(F.a.Link,{as:i.b,to:"/create",children:"New Post"})}),Object(D.jsx)(U.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(D.jsx)(U.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end",children:Object(D.jsxs)(F.a,{className:"ml-auto",children:[null===t&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(F.a.Link,{as:i.b,to:"/login",children:"Login"}),Object(D.jsx)(F.a.Link,{as:i.b,to:"/signup",children:"Signup"})]}),null!==t&&Object(D.jsxs)(U.a.Text,{children:["Welcome: ",Object(D.jsx)(i.b,{to:"/profile",children:t.username})," ",Object(D.jsx)(A.a,{variant:"primary",size:"sm",onClick:function(){console.log("loggin out"),e(S(null)),n.push("/")},children:"Log out"})]})]})})]})})},G=n(59),B=function(){return Object(D.jsx)("div",{children:Object(D.jsxs)(G.a,{children:[Object(D.jsx)("h2",{children:"Welcome to Areddit."}),Object(D.jsx)("p",{children:"A social media app built using modren JavaScript"}),Object(D.jsx)("p",{children:Object(D.jsx)(A.a,{variant:"primary",as:i.b,to:"/signup",children:"Sign Up"})})]})})},z=n(60),H=n(36),J=function(e){var t=e.post;return Object(D.jsxs)("span",{children:["posted by"," ",Object(D.jsx)(i.b,{to:"/users/".concat(t.user.id),children:t.user.name||t.user.username})]})},W=n(115),V=n(116),K=function(e){var t=e.post,n=Object(W.a)(Object(V.a)(t.createdAt)),r=Object(W.a)(Object(V.a)(t.lastModified));return Object(D.jsx)("span",{title:"".concat(t.createdAt),children:Object(D.jsxs)("em",{children:[n," ago (last modified: ",r," ago)"]})})},Q=n(78),X=n(50),Y="/api/posts",Z="",$=null,ee=function(e){$={headers:{Authorization:e}}},te={readAll:function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(Y,$);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(Y,t,$);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(Y,"/").concat(t.id),t,$);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("".concat(Y,"/").concat(t.id),$);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),comment:function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(Y,"/").concat(t,"/comments"),n,$);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),react:function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(Y,"/").concat(t,"/reactions"),n,$);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setAuthorizationHeader:function(e){Z="Bearer ".concat(e),ee(Z)}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_POSTS":return t.payload;case"ADD_POST":return[].concat(Object(z.a)(e),[t.payload]);case"REMOVE_POST":return e.filter((function(e){return e.id!==t.payload.id}));case"EDIT_POST":var n=t.payload;return e.map((function(e){return e.id===n.id?n:e}));case"ADD_COMMENT":case"ADD_REACTION":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},re={thumbsUp:"\ud83d\udc4d",hooray:"\ud83c\udf89",heart:"\u2764\ufe0f",rocket:"\ud83d\ude80",eyes:"\ud83d\udc40"},ce=function(e){var t=e.post,n=Object(s.b)(),r=Object.entries(re).map((function(e){var r=Object(E.a)(e,2),c=r[0],a=r[1];return Object(D.jsxs)(A.a,{variant:"light",className:"mt-2 mr-2",onClick:function(){n(function(e,t){var n=Object(u.a)(Object(u.a)({},e.reactions),{},Object(X.a)({},t,e.reactions[t]+1));return function(){var t=Object(d.a)(b.a.mark((function t(r){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.react(e.id,n);case 3:c=t.sent,r({type:"ADD_REACTION",payload:c}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(Object(u.a)({},t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t,c))},children:[a,Object(D.jsx)(Q.a,{variant:"light",children:t.reactions[c]})]},c)}));return Object(D.jsx)("div",{children:r})},ae=function(){var e=Object(s.c)((function(e){var t=e.posts;return Object(z.a)(t).sort((function(e,t){return t.createdAt.localeCompare(e.createdAt)}))}));return Object(D.jsx)("div",{children:Object(D.jsx)("div",{children:e.map((function(e){return Object(D.jsxs)(H.a,{children:[Object(D.jsxs)(H.a.Body,{children:[Object(D.jsx)(H.a.Title,{children:e.title.slice(0,50)}),Object(D.jsxs)(H.a.Subtitle,{className:"mb-2 text-muted",children:[Object(D.jsx)(J,{post:e})," ",Object(D.jsx)(K,{post:e})]}),Object(D.jsx)(H.a.Text,{children:e.content.slice(0,50)}),Object(D.jsx)(ce,{post:e})]}),Object(D.jsx)(H.a.Footer,{children:Object(D.jsx)(A.a,{variant:"primary",as:i.b,to:"/posts/".concat(e.id),children:"Read more"})})]},e.id)}))})})},se=function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Posts"}),Object(D.jsx)(ae,{})]})},ie=n(40),oe=function(e){var t=e.post,n=e.deletePost,c=Object(r.useState)(!1),a=Object(E.a)(c,2),s=a[0],i=a[1],o=function(){return i(!1)};return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A.a,{variant:"danger",onClick:function(){return i(!0)},children:"delete"}),Object(D.jsxs)(ie.a,{show:s,onHide:o,children:[Object(D.jsx)(ie.a.Header,{closeButton:!0,children:Object(D.jsx)(ie.a.Title,{children:"Delete Post"})}),Object(D.jsxs)(ie.a.Body,{children:["Delete Post (",t.title.slice(0,50),")?"]}),Object(D.jsxs)(ie.a.Footer,{children:[Object(D.jsx)(A.a,{variant:"danger",onClick:function(){n(),o()},children:"Delete"}),Object(D.jsx)(A.a,{variant:"primary",onClick:o,children:"Cancel"})]})]})]})},ue=function(e){var t=e.post,n=Object(s.b)(),r=I("text");return Object(D.jsx)("div",{children:Object(D.jsxs)(C.a,{inline:!0,onSubmit:function(e){e.preventDefault(),n(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.comment(e.id,{content:t});case 3:c=n.sent,r({type:"ADD_COMMENT",payload:c}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(Object(u.a)({},n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,r.value)),r.reset()},children:[Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({className:"mb-2 mr-sm-2"},function(e){e.reset;return Object(j.a)(e,["reset"])}(r)),{},{placeholder:"type your comment",required:!0})),Object(D.jsx)(A.a,{variant:"secondary",children:"comment"})]})})},je=function(e){var t=e.post;return Object(D.jsx)("div",{children:Object(D.jsx)("ul",{children:t.comments.map((function(e){return Object(D.jsx)("li",{children:e.content},e.date)}))})})},le=function(e){var t=e.post;return Object(D.jsxs)("div",{children:[Object(D.jsx)("h3",{children:"Leave a comment"}),Object(D.jsx)(ue,{post:t}),Object(D.jsx)(je,{post:t})]})},be=function(e){var t=e.history,n=e.match.params.id,r=Object(s.b)(),c=Object(s.c)((function(e){return e.user})),a=Object(s.c)((function(e){return e.posts})).find((function(e){return e.id===n}));if(!a)return null;return Object(D.jsxs)("div",{children:[Object(D.jsxs)(G.a,{children:[Object(D.jsx)("h2",{children:a.title}),Object(D.jsxs)("div",{children:[Object(D.jsx)(J,{post:a})," ",Object(D.jsx)(K,{post:a})]}),Object(D.jsx)("p",{children:a.content}),Object(D.jsx)("div",{children:c.username===a.user.username&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(A.a,{className:"mr-2",variant:"primary",as:i.b,to:"/posts/".concat(a.id,"/edit"),children:"Edit"}),Object(D.jsx)(oe,{post:a,deletePost:function(){r(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.remove(e);case 3:r({type:"REMOVE_POST",payload:e}),t.push("/"),n.next=13;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(Object(u.a)({},n.t0)),c=n.t0.response&&n.t0.response.data?n.t0.response.data.error:n.t0.message,404===n.t0.response.status&&(c="error: post (".concat(e.title.slice(0,50),") doesn't exist on server"),r({type:"REMOVE_POST",payload:e}),t.push("/")),r(N({type:"error",msg:c}));case 13:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(a,t))}})]})}),Object(D.jsx)(ce,{post:a})]}),Object(D.jsx)(le,{post:a})]})},de=function(){var e=Object(s.b)(),t=Object(o.g)(),n=I("text"),r=I("text"),c=function(e){e.reset;return Object(j.a)(e,["reset"])},a=n.value&&r.value&&n.value.length>=3&&r.value.length>=3;return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Add New Post"}),Object(D.jsxs)(C.a,{onSubmit:function(c){c.preventDefault();var a={title:n.value,content:r.value};e(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.create(e);case 3:c=n.sent,r({type:"ADD_POST",payload:c}),t.push("/"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(Object(u.a)({},n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(a,t))},children:[Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({className:"mb-2 mr-sm-2"},c(n)),{},{placeholder:"title",required:!0,minLength:3})),Object(D.jsx)(C.a.Text,{className:"text-muted",children:"3 characters or more"})]}),Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Control,Object(u.a)(Object(u.a)({as:"textarea",className:"mb-2 mr-sm-2",rows:3},c(r)),{},{placeholder:"content",required:!0,minLength:3})),Object(D.jsx)(C.a.Text,{className:"text-muted",children:"3 characters or more"})]}),Object(D.jsx)(A.a,{type:"submit",className:"mb-2 mr-2",disabled:!a,children:"Add"}),Object(D.jsx)(A.a,{variant:"danger",className:"mb-2 mr-2",as:i.b,to:"/",children:"Cancel"})]})]})},pe=function(e){var t=e.match,n=e.history,c=t.params.id,a=Object(s.b)(),o=Object(s.c)((function(e){return e.posts.find((function(e){return e.id===c}))})),j=Object(r.useState)(o.title),l=Object(E.a)(j,2),p=l[0],O=l[1],h=Object(r.useState)(o.content),x=Object(E.a)(h,2),f=x[0],v=x[1];if(!o)return Object(D.jsx)("h1",{children:"NO POSTS WERE FOUND"});var m=p&&f&&p.length>=3&&f.length>=3;return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Edit Post"}),Object(D.jsxs)(C.a,{onSubmit:function(e){e.preventDefault();var t=Object(u.a)(Object(u.a)({},o),{},{title:p,content:f});a(function(e,t){return function(){var n=Object(d.a)(b.a.mark((function n(r){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.update(e);case 3:c=n.sent,r({type:"EDIT_POST",payload:c}),t.push("/posts/".concat(c.id)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(Object(u.a)({},n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},children:[Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Control,{className:"mb-2 mr-sm-2",value:p,onChange:function(e){O(e.target.value)},placeholder:"title",required:!0,minLength:3}),Object(D.jsx)(C.a.Text,{className:"text-muted",children:"3 characters or more"})]}),Object(D.jsxs)(C.a.Group,{children:[Object(D.jsx)(C.a.Control,{as:"textarea",className:"mb-2 mr-sm-2",rows:3,value:f,onChange:function(e){v(e.target.value)},placeholder:"content",required:!0,minLength:3}),Object(D.jsx)(C.a.Text,{className:"text-muted",children:"3 characters or more"})]}),Object(D.jsx)(A.a,{type:"submit",className:"mb-2 mr-2",disabled:!m,children:"Save"}),Object(D.jsx)(A.a,{variant:"danger",className:"mb-2 mr-2",as:i.b,to:"/posts/".concat(o.id),children:"Cancel"})]})]})},Oe=n(68),he=function(){var e=Object(r.useState)(null),t=Object(E.a)(e,2),n=t[0],c=t[1],a=Object(o.h)().id;return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.read(a);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){console.log(Object(u.a)({},t))}}),[a]),n?Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:n.name||n.username}),Object(D.jsx)("h3",{children:"posts"}),Object(D.jsx)(Oe.a,{children:n.posts.map((function(e){return Object(D.jsx)(Oe.a.Item,{children:Object(D.jsx)(i.b,{to:"/posts/".concat(e.id),children:e.title})},e.id)}))})]}):null},xe=n(79),fe=function(){var e=Object(s.c)((function(e){return e.user})),t=e.name,n=e.username;return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Profile"}),Object(D.jsx)(xe.a,{striped:!0,bordered:!0,hover:!0,children:Object(D.jsxs)("tbody",{children:[Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"name"}),Object(D.jsx)("td",{children:t})]}),Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"username"}),Object(D.jsx)("td",{children:n})]})]})})]})},ve=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user}));return Object(r.useEffect)((function(){!function(){var t=window.localStorage.getItem("loggedUser");if(t){var n=JSON.parse(t);e(S(n))}}()}),[e]),Object(r.useEffect)((function(){window.localStorage.setItem("loggedUser",JSON.stringify(t)),t&&(g.setAuthorizationHeader(t.token),te.setAuthorizationHeader(t.token),e(function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.readAll();case 3:n=e.sent,t({type:"INIT_POSTS",payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(Object(u.a)({},e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[t,e]),Object(D.jsx)("div",{className:"container-fluid",children:Object(D.jsxs)(i.a,{children:[Object(D.jsx)(M,{}),Object(D.jsx)(q,{}),Object(D.jsxs)(o.d,{children:[Object(D.jsx)(o.b,{exact:!0,path:"/",children:null===t?Object(D.jsx)(B,{}):Object(D.jsx)(se,{})}),Object(D.jsx)(o.b,{exact:!0,path:"/login",children:null!==t?Object(D.jsx)(o.a,{to:"/"}):Object(D.jsx)(P,{})}),Object(D.jsx)(o.b,{exact:!0,path:"/signup",children:null!==t?Object(D.jsx)(o.a,{to:"/"}):Object(D.jsx)(L,{})}),Object(D.jsx)(o.b,{exact:!0,path:"/profile",children:null===t?Object(D.jsx)(o.a,{to:"/"}):Object(D.jsx)(fe,{})}),Object(D.jsx)(o.b,{exact:!0,path:"/users/:id",children:null===t?Object(D.jsx)(o.a,{to:"/"}):Object(D.jsx)(he,{})}),Object(D.jsx)(o.b,{exact:!0,path:"/create",children:null===t?Object(D.jsx)(o.a,{to:"/"}):Object(D.jsx)(de,{})}),Object(D.jsx)(o.b,{exact:!0,path:"/posts/:id",component:be}),Object(D.jsx)(o.b,{exact:!0,path:"/posts/:id/edit",component:pe})]})]})})},me=n(47),ge=n(80),ye=n(81),we=Object(me.combineReducers)({posts:ne,user:k,notifications:y}),Te=Object(me.createStore)(we,Object(ge.composeWithDevTools)(Object(me.applyMiddleware)(ye.a)));Te.subscribe((function(){return console.log(Te.getState())}));var Ne=Te;a.a.render(Object(D.jsx)(s.a,{store:Ne,children:Object(D.jsx)(ve,{})}),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.b3001575.chunk.js.map